import os
import select
import signal

import signalfd

fd = signalfd.get_fd()

while 1:
	r, w, x = select.select([fd], [], [])
	if r:
		buf = os.read(fd, 1)
		if not buf:
			break

		sig = ord(buf[0])
		if sig == signal.SIGTERM:
			break
